<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S T A R B L O O D</title>
    <style>
        :root {
            --blood-dark: #8a0000;
            --blood-glow: #ff3333;
            --card-w: 78px;
            --card-h: 112px;
            --gap: 14px;
        }

        body {
            margin: 0;
            background: #000;
            color: white;
            font-family: 'Courier New', monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
            height: 100vh;
        }

        /* Video Backgrounds */
        #video-container { position: fixed; inset: 0; z-index: -10; }
        .bg-vid { width: 100%; height: 100%; object-fit: cover; opacity: 0.35; }

        /* Game Board */
        #game-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* 5 columns for 20 cards */
            gap: var(--gap);
            margin-top: 40px;
            opacity: 0;
            transition: opacity 1s;
        }

        .slot {
            width: var(--card-w);
            height: var(--card-h);
            border: 1px solid rgba(138,0,0,0.4);
            border-radius: 8px;
            background: rgba(10,0,0,0.4);
            position: relative;
        }

        /* Card Styles */
        .card {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4,0,0.2,1), opacity 0.5s;
            cursor: pointer;
        }

        .card.flipped { transform: rotateY(180deg); }

        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            border: 2px solid var(--blood-dark);
            background-size: cover;
            background-position: center;
        }

        .front { transform: rotateY(180deg); }
        .back { background-image: url('https://www.dropbox.com/scl/fi/b2gjmfifuosos2cxqtv59/Screenshot_2026-01-20-15-39-47-64_0b2fce7a16bf2b728d6ffa28c8d60efb.jpg?rlkey=vgoa14t1nhi57plch9oaqoqgx&st=l3sti98l&raw=1'); }

        /* Matched Animation */
        .matched-glow {
            box-shadow: 0 0 20px var(--blood-glow);
            z-index: 100;
        }

        /* UI Elements */
        #landing {
            position: fixed; inset: 0; z-index: 300;
            background: #000; display: flex; justify-content: center; align-items: center;
            transition: opacity 1.5s ease-out;
        }

        .landing-button {
            padding: 15px 60px; background: transparent;
            border: 2px solid var(--blood-glow); color: var(--blood-glow);
            font-size: 1.4rem; cursor: pointer; letter-spacing: 3px;
            z-index: 301;
        }

        .deck-stack {
            position: fixed; bottom: 20px; right: 20px;
            width: 80px; height: 115px; cursor: pointer;
            opacity: 0; transition: opacity 1s; z-index: 200;
        }

        .deck-art {
            width: 100%; height: 100%; border-radius: 8px;
            background-image: url('https://www.dropbox.com/scl/fi/b2gjmfifuosos2cxqtv59/Screenshot_2026-01-20-15-39-47-64_0b2fce7a16bf2b728d6ffa28c8d60efb.jpg?rlkey=vgoa14t1nhi57plch9oaqoqgx&st=l3sti98l&raw=1');
            background-size: cover; border: 2px solid var(--blood-dark);
            box-shadow: 0 0 15px var(--blood-glow);
        }
    </style>
</head>
<body>

<div id="video-container">
    <video autoplay muted loop playsinline class="bg-vid">
        <source src="https://www.dropbox.com/scl/fi/mey5lpbfb1uarcw8rw1ae/2026-01-20-125904299.mp4?rlkey=3utxc2lsk8bfxxfd7axx8g3ta&st=qwllfayh&raw=1" type="video/mp4">
    </video>
</div>

<div id="landing">
    <button class="landing-button" onclick="enterVoid()">ENTER</button>
</div>

<h1 id="title" style="letter-spacing: 10px; color: var(--blood-glow); margin-top: 20px;">STARBLOOD</h1>

<div id="game-board"></div>

<div class="deck-stack" id="deck" onclick="initGame()">
    <div class="deck-art"></div>
</div>

<script>
    const faceFiles = [
        "https://www.dropbox.com/scl/fi/f2s7vov8p6uyln7z5vjwv/star-1.png?rlkey=pyppfuc9h84eorj8f9ty24s7r&raw=1",
        "https://via.placeholder.com/78x112/500000/ffffff?text=II",
        "https://via.placeholder.com/78x112/500000/ffffff?text=III",
        "https://via.placeholder.com/78x112/500000/ffffff?text=IV",
        "https://via.placeholder.com/78x112/500000/ffffff?text=V",
        "https://via.placeholder.com/78x112/500000/ffffff?text=VI",
        "https://via.placeholder.com/78x112/500000/ffffff?text=VII",
        "https://via.placeholder.com/78x112/500000/ffffff?text=VIII",
        "https://via.placeholder.com/78x112/500000/ffffff?text=IX",
        "https://via.placeholder.com/78x112/500000/ffffff?text=X"
    ];

    let activeFlipped = [];
    let locked = false;
    const board = document.getElementById('game-board');
    const deckEl = document.getElementById('deck');

    function enterVoid() {
        document.getElementById('landing').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('landing').style.display = 'none';
            board.style.opacity = '1';
            deckEl.style.opacity = '1';
            initPlaceholders();
        }, 1500);
    }

    function initPlaceholders() {
        board.innerHTML = '';
        for (let i = 0; i < 20; i++) {
            const slot = document.createElement('div');
            slot.className = 'slot';
            board.appendChild(slot);
        }
    }

    function initGame() {
        if (locked) return;
        locked = true;
        
        // Create 10 pairs from the 10 images
        let cardsData = [...faceFiles, ...faceFiles];
        cardsData.sort(() => Math.random() - 0.5);

        board.innerHTML = ''; 
        cardsData.forEach(url => {
            const slot = document.createElement('div');
            slot.className = 'slot';
            
            const card = document.createElement('div');
            card.className = 'card';
            card.dataset.val = url;
            card.innerHTML = `
                <div class="face front" style="background-image:url('${url}')"></div>
                <div class="face back"></div>
            `;
            
            card.onclick = () => handleCardClick(card);
            slot.appendChild(card);
            board.appendChild(slot);
        });

        setTimeout(() => locked = false, 500);
    }

    function handleCardClick(card) {
        if (locked || card.classList.contains('flipped')) return;

        card.classList.add('flipped');
        activeFlipped.push(card);

        if (activeFlipped.length === 2) {
            locked = true;
            checkMatch();
        }
    }

    function checkMatch() {
        const [c1, c2] = activeFlipped;
        const isMatch = c1.dataset.val === c2.dataset.val;

        if (isMatch) {
            c1.classList.add('matched-glow');
            c2.classList.add('matched-glow');
            
            setTimeout(() => {
                c1.style.transform = 'scale(0) rotateY(180deg)';
                c2.style.transform = 'scale(0) rotateY(180deg)';
                c1.style.opacity = '0';
                c2.style.opacity = '0';
                activeFlipped = [];
                locked = false;
            }, 800);
        } else {
            setTimeout(() => {
                c1.classList.remove('flipped');
                c2.classList.remove('flipped');
                activeFlipped = [];
                locked = false;
            }, 1000);
        }
    }
</script>
</body>
</html>
